{"ast":null,"code":"var _jsxFileName = \"/Users/chrisdelaney/Downloads/games/georgetownguessr/src/components/Map/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Map(props) {\n  _s();\n  const [mapCenter, setMapCenter] = useState({\n    lat: 38.90899666691537,\n    lng: -77.067332462228\n  });\n  const [markerPosition, setMarkerPosition] = useState(null);\n  const minZoomLevel = 14;\n  const onMapClick = event => {\n    console.log(event.latLng.lat(), event.latLng.lng());\n    console.log(props.imgCoords.latitude, props.imgCoords.longitude);\n    const dist = calculateDistance(props.imgCoords.latitude, props.imgCoords.longitude, event.latLng.lat(), event.latLng.lng());\n    console.log(`distance: ${dist} meters`);\n    const score = calculateScore(dist);\n    setMarkerPosition({\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng()\n    });\n  };\n  const mapOptions = {\n    mapTypeControl: false,\n    fullscreenControl: false,\n    clickableIcons: false,\n    disableDoubleClickZoom: true,\n    minZoom: minZoomLevel\n  };\n  return /*#__PURE__*/_jsxDEV(LoadScript, {\n    googleMapsApiKey: \"AIzaSyBfr_271qEHFo2CUz8YAwlSmfAYIuocGdU\",\n    children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: {\n        height: \"50vh\",\n        width: \"50%\",\n        outline: \"none\"\n      },\n      zoom: 14,\n      center: mapCenter,\n      onClick: onMapClick,\n      options: mapOptions,\n      children: markerPosition && /*#__PURE__*/_jsxDEV(Marker, {\n        position: markerPosition\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n}\n_s(Map, \"Up+a5t4skPE5a6cuoKhCQSqMSqE=\");\n_c = Map;\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n  const R = 6371e3; // Radius of the Earth in meters\n  const φ1 = lat1 * Math.PI / 180; // φ, λ in radians\n  const φ2 = lat2 * Math.PI / 180;\n  const Δφ = (lat2 - lat1) * Math.PI / 180;\n  const Δλ = (lon2 - lon1) * Math.PI / 180;\n\n  // Haversine formula\n  const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  const distance = R * c; // Distance in meters\n\n  return Math.floor(distance);\n}\nconst calculateScore = dist => {\n  if (dist <= 10) {\n    return 1000;\n  } else if (dist > 1000) {\n    return 0;\n  } else {\n    return 1010 - dist;\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useState","GoogleMap","LoadScript","Marker","jsxDEV","_jsxDEV","Map","props","_s","mapCenter","setMapCenter","lat","lng","markerPosition","setMarkerPosition","minZoomLevel","onMapClick","event","console","log","latLng","imgCoords","latitude","longitude","dist","calculateDistance","score","calculateScore","mapOptions","mapTypeControl","fullscreenControl","clickableIcons","disableDoubleClickZoom","minZoom","googleMapsApiKey","children","mapContainerStyle","height","width","outline","zoom","center","onClick","options","position","fileName","_jsxFileName","lineNumber","columnNumber","_c","lat1","lon1","lat2","lon2","R","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","distance","floor","$RefreshReg$"],"sources":["/Users/chrisdelaney/Downloads/games/georgetownguessr/src/components/Map/Map.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\n\nexport default function Map(props) {\n    const [mapCenter, setMapCenter] = useState({ lat: 38.90899666691537, lng: -77.067332462228 });\n    const [markerPosition, setMarkerPosition] = useState(null);\n    const minZoomLevel = 14;\n\n    const onMapClick = (event) => {\n        console.log(event.latLng.lat(), event.latLng.lng());\n        console.log(props.imgCoords.latitude, props.imgCoords.longitude);\n        const dist = calculateDistance(props.imgCoords.latitude, props.imgCoords.longitude, event.latLng.lat(), event.latLng.lng());\n        console.log(`distance: ${dist} meters`);\n        const score = calculateScore(dist);\n        \n\n        setMarkerPosition({\n            lat: event.latLng.lat(),\n            lng: event.latLng.lng()\n        });\n    };\n\n    const mapOptions = {\n        mapTypeControl: false,\n        fullscreenControl: false,\n        clickableIcons: false,\n        disableDoubleClickZoom: true,\n        minZoom: minZoomLevel\n    };\n\n    return (\n        <LoadScript googleMapsApiKey=\"AIzaSyBfr_271qEHFo2CUz8YAwlSmfAYIuocGdU\">\n            <GoogleMap\n                mapContainerStyle={{ height: \"50vh\", width: \"50%\", outline: \"none\",}}\n                zoom={14}\n                center={mapCenter}\n                onClick={onMapClick}\n                options={mapOptions}\n            >\n                {markerPosition && <Marker position={markerPosition} />}\n            </GoogleMap>\n        </LoadScript>\n    );\n}\n\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371e3; // Radius of the Earth in meters\n    const φ1 = lat1 * Math.PI / 180; // φ, λ in radians\n    const φ2 = lat2 * Math.PI / 180;\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\n\n    // Haversine formula\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c; // Distance in meters\n\n    return Math.floor(distance);\n}\n\nconst calculateScore = (dist) => {\n    if (dist <= 10) {\n        return 1000\n    } else if (dist > 1000) {\n        return 0\n    } else {\n        return 1010 - dist;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}